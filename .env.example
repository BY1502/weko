# 사용 방법
# 1. 이 파일을 .env로 복사하세요.
# 2. 모든 플레이스홀더를 실제 값으로 바꾸세요.
# 3. .env 파일이 버전 관리에 커밋되지 않도록 주의하세요.

# gin mod
# 선택값: debug(개발 모드, 상세 로그), release(운영 모드, Swagger 비활성화)
GIN_MODE=release

# 새 사용자 등록 금지(운영 환경에서는 true 권장)
DISABLE_REGISTRATION=false

# Ollama 서비스 기본 URL (로컬/원격 Ollama 서버 연결용)
OLLAMA_BASE_URL=http://host.docker.internal:11434

# 스토리지 설정
# 기본 DB 타입(postgres/mysql)
DB_DRIVER=postgres

# 벡터 스토리지 타입(postgres/elasticsearch_v7/elasticsearch_v8/qdrant)
RETRIEVE_DRIVER=postgres

# 파일 스토리지 타입(local/minio/cos)
STORAGE_TYPE=local

# 스트림 처리 백엔드(memory/redis)
STREAM_MANAGER_TYPE=redis

# 앱 서비스 포트(기본 8080)
APP_PORT=8080

# 프론트엔드 서비스 포트(기본 80)
FRONTEND_PORT=80

# 문서 파서 모듈 포트(기본 50051)
DOCREADER_PORT=50051

# DB 사용자명
DB_USER=postgres

# DB 비밀번호
DB_PASSWORD=postgres123!@#

# DB 이름
DB_NAME=WeKnora

# 스트림 백엔드로 redis를 사용하는 경우 아래를 설정하세요.
# Redis 비밀번호(없으면 비워둡니다)
REDIS_PASSWORD=redis123!@#

# Redis DB 인덱스(기본 0)
REDIS_DB=0

# Redis 키 프리픽스(네임스페이스 분리용)
REDIS_PREFIX=stream:

# 로컬 스토리지를 쓸 때 파일 저장 기본 디렉터리
LOCAL_STORAGE_BASE_DIR=/data/files

# 손상된 데이터 자동 복구 여부
AUTO_RECOVER_DIRTY=true

TENANT_AES_KEY=weknorarag-api-key-secret-secret

# 지식 그래프 생성/검색 활성화 여부(생성 시 LLM 호출로 시간이 오래 걸림)
ENABLE_GRAPH_RAG=false


# JWT_SECRET 설정(프론트엔드 로그인 토큰 갱신용)
JWT_SECRET=weknora-jwt-secret

# MinIO 포트
# MINIO_PORT=9000

# MinIO 콘솔 포트
# MINIO_CONSOLE_PORT=9001

# 임베딩 동시 처리 개수(429 발생 시 값을 줄이세요)
CONCURRENCY_POOL_SIZE=5

# ElasticSearch를 벡터 스토리지로 쓴다면 아래를 설정하세요.
# ElasticSearch 주소(예: http://localhost:9200)
# ELASTICSEARCH_ADDR=your_elasticsearch_addr

# ElasticSearch 사용자명(인증이 필요한 경우)
# ELASTICSEARCH_USERNAME=your_elasticsearch_username

# ElasticSearch 비밀번호(인증이 필요한 경우)
# ELASTICSEARCH_PASSWORD=your_elasticsearch_password

# 벡터 데이터를 저장할 ElasticSearch 인덱스명
# ELASTICSEARCH_INDEX=WeKnora

# Qdrant를 벡터 스토리지로 쓴다면 아래를 설정하세요.
# Qdrant 서비스 호스트 주소
# QDRANT_HOST=localhost

# Qdrant 서비스 포트
# QDRANT_PORT=6334

# 벡터 데이터를 저장할 Qdrant 컬렉션명
# QDRANT_COLLECTION=weknora_embeddings

# Qdrant API 키(필요한 경우)
# QDRANT_API_KEY=your_qdrant_api_key

# TLS 암호화 연결 사용 여부(기본 false)
# QDRANT_USE_TLS=false

# MinIO를 파일 스토리지로 쓴다면 아래를 설정하세요.
# MinIO Access Key
# MINIO_ACCESS_KEY_ID=your_minio_access_key

# MinIO Secret Key
# MINIO_SECRET_ACCESS_KEY=your_minio_secret_key

# 파일을 저장할 MinIO 버킷명
# MINIO_BUCKET_NAME=your_minio_bucket_name

# 텐센트 클라우드 COS를 파일 스토리지로 쓴다면 아래를 설정하세요.
# COS Access Key ID
# COS_SECRET_ID=your_cos_secret_id

# COS Secret Key
# COS_SECRET_KEY=your_cos_secret_key

# COS 리전(예: ap-guangzhou)
# COS_REGION=your_cos_region

# COS 버킷명
# COS_BUCKET_NAME=your_cos_bucket_name

# COS 앱 ID
# COS_APP_ID=your_cos_app_id

# 파일 저장에 사용할 COS 경로 프리픽스
# COS_PATH_PREFIX=your_cos_path_prefix

# COS_ENABLE_OLD_DOMAIN=true 는 이전 도메인 형식 사용을 의미합니다(기본 true)
COS_ENABLE_OLD_DOMAIN=true

# 네트워크 연결에 웹 프록시가 필요하면 아래를 설정하세요.
# WEB_PROXY=your_web_proxy

# Neo4j 사용 여부
# NEO4J_ENABLE=false

# Neo4j 접속 주소
# NEO4J_URI=neo4j://neo4j:7687

# Neo4j 사용자명과 비밀번호
# NEO4J_USERNAME=neo4j

# Neo4j 비밀번호
# NEO4J_PASSWORD=password

# ========== 파일 업로드 크기 제한 ==========
# 통합 파일 크기 제한(MB), 기본 50MB
# 영향: 단일 파일 업로드, gRPC 메시지 크기, Nginx 요청 본문 크기
# MAX_FILE_SIZE_MB=50

# APK 미러 소스 설정(옵션)
APK_MIRROR_ARG=mirrors.tencent.com
